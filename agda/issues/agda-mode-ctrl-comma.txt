
4/30/2019

The emacs command "C-c C-," does not work for me on Agda goals, and I am not
sure how to fix it. Similarly for C-. and C-;. Using agda 2.5.4.2.

Clues are:

1. In my terminal (iTerm2), CTRL+, is mapped to a simple comma. 

2. In emacs the same mapping is inherited. So when I do "C-c - C-," emacs
responds with the error: "C-c , is undefined".

The regular MAC terminal does not allow CTRL-, input.

Am I correct in assuming that it is the responsibility of agda-mode to do the
necessary terminal magic to map CTRL+, to the right code? 

I guess I can try to map CTRL+, to the right code in the my
terminal preferences. But I am not sure what that code should be.

Workaround

For the moment I have changed C-c C-, in my agda2-mode.el to C-c C-g, and
that works in emacs to give me "goal and context". Similar changes
had to be made for C-c C-. and C-c C-;.

Here are the changes I made in agda2-mode.el:

    ;; (agda2-goal-and-context               ,(kbd "C-c C-,")     (local)        "Goal type and context")
    (agda2-goal-and-context                  ,(kbd "C-c C-g")     (local)        "Goal type and context")
    ;; (agda2-goal-and-context-and-inferred  ,(kbd "C-c C-.")     (local)        "Goal type, context and inferred type")
    (agda2-goal-and-context-and-inferred     ,(kbd "C-c C-i")     (local)        "Goal type, context and inferred type")
    ;; (agda2-goal-and-context-and-checked   ,(kbd "C-c C-;")     (local)        "Goal type, context and checked type")
    (agda2-goal-and-context-and-checked      ,(kbd "C-c C-k")     (local)        "Goal type, context and checked type")
 
My agda-mode.el is at: ~/Library/Haskell/share/ghc-8.4.4-x86_64/Agda-2.6.0/emacs-mode/agda2-mode.el
where may agda is: ~/Library/Haskell/bin/agda.

